<div class="content row">
  <div class="col-1">
  </div>
  <div class="col-10 float-right mt-3">
    <form [formGroup]="formAddNewCustomer" (ngSubmit)="addNewCustomer(formAddNewCustomer.value)">
      <h3>Thêm mới Khách hàng</h3>
      <hr/>
      <legend>Thêm mới tài khoản</legend>

      <div class="item">
        <label class="col-2 float-left " for="account">
          Tài khoản <span class="red_asterisk">*</span>:
        </label>
        <input id="account" class="col-6 form-control float-left" type="text" formControlName="account">
      </div>
      <div class="item" style="clear: both">
        <label class="col-2 float-left ">
        </label>
        <p *ngIf="formAddNewCustomer.get('account').hasError('required') && formAddNewCustomer.get('account').touched"
           class="text-danger">Vui lòng nhập tài khoản</p>
        <p *ngIf="formAddNewCustomer.get('account').hasError('pattern') && formAddNewCustomer.get('account').touched"
           class="text-danger">Tài khoản tối thiểu 8 kí tự gồm cả chữ và số</p>
      </div>


      <div style="clear: both">
        <div class="item">
          <label class="col-2 float-left" for="password">
            Mật khẩu <span class="red_asterisk">*</span>:
          </label>
          <input id="password" type="password" class="col-6 form-control float-left" formControlName="password">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p
            *ngIf="formAddNewCustomer.get('password').hasError('required') && formAddNewCustomer.get('password').touched"
            class="text-danger">Vui lòng nhập mật khẩu</p>
          <p
            *ngIf="formAddNewCustomer.get('password').hasError('pattern') && formAddNewCustomer.get('password').touched"
            class="text-danger">Mật khẩu tối thiểu 8 kí tự gồm cả chữ và số</p>
        </div>


        <div class="item">
          <label class="col-2 float-left" for="newPassword" style="clear: both">
            Xác nhận <span class="red_asterisk">*</span>:
          </label>
          <input class="col-6 form-control float-left" id="newPassword" type="password"
                 formControlName="confirmPassword">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p class="text-danger " *ngIf="isMessage">Tài khoản đã tồn tài hoặc mật khẩu nhập sai</p>
        </div>

      </div>
      <legend>Thêm mới thông tin</legend>

      <div class="item" style="clear: both">
        <label class="col-2 float-left" for="name">
          Họ Tên <span class="red_asterisk">*</span>
        </label>
        <input name="name" id="name" class="col-6 form-control float-left" type="text"
               formControlName="name">
      </div>
      <div class="item" style="clear: both">
        <label class="col-2 float-left">
        </label>
        <p *ngIf="formAddNewCustomer.get('name').hasError('required') && formAddNewCustomer.get('name').touched"
           class="text-danger">Vui lòng nhập tên</p>
        <p *ngIf="formAddNewCustomer.get('name').hasError('pattern') && formAddNewCustomer.get('name').touched"
           class="text-danger">Vui lòng nhập đúng tên</p>
      </div>

      <div class="item">
        <label class="col-2 float-left" for="phone" style="clear: both">
          Điện thoại <span class="red_asterisk">*</span>:
        </label>
        <input id="phone" class="col-6 form-control float-left" type="text" formControlName="phone">
      </div>
      <div class="item" style="clear: both">
        <label class="col-2 float-left">
        </label>
        <p *ngIf="formAddNewCustomer.get('phone').hasError('required') && formAddNewCustomer.get('phone').touched"
           class="text-danger">Vui lòng nhập số điện thoại</p>
        <p *ngIf="formAddNewCustomer.get('phone').hasError('pattern')&& formAddNewCustomer.get('phone').touched"
           class="text-danger">Số điện thoại không đúng định dạng</p>
      </div>

      <div class="item" style="clear: both">
        <label class="col-2 float-left ">
        </label>
        <p class="text-danger">
          {{listError.existPhone}}
        </p>
      </div>

      <div class="item" style="clear: both">
        <label class="col-2 float-left ">
        </label>
        <p *ngIf="isMessage3" class="text-danger">
          Điện thoại đã được đăng ký
        </p>
      </div>

      <div class="item">
        <label class="col-2 float-left" for="email" style="clear: both">
          Email <span class="red_asterisk">*</span>:
        </label>
        <input id="email" class="col-6 form-control float-left" type="text" formControlName="email">
      </div>
      <div class="item" style="clear: both">
        <label class="col-2 float-left">
        </label>
        <p *ngIf="formAddNewCustomer.get('email').hasError('required') && formAddNewCustomer.get('email').touched"
           class="text-danger">Vui lòng nhập email</p>
        <p *ngIf="formAddNewCustomer.get('email').hasError('pattern')&& formAddNewCustomer.get('email').touched"
           class="text-danger">Email không đúng định dạng</p>
      </div>

      <div class="item" style="clear: both">
        <label class="col-2 float-left ">
        </label>
        <p class="text-danger">
          {{listError.existEmail}}
        </p>
      </div>
      <div class="item" style="clear: both">
        <label class="col-2 float-left ">
        </label>
        <p *ngIf="isMessage1" class="text-danger">
          Email đã được đăng ký
        </p>
      </div>
      <div class="item">
        <label class="col-2 float-left" for="ward" style="clear: both">
          Địa Chỉ <span class="red_asterisk">*</span>:
        </label>
        <div class="cols-sm-10">
          <div class="input-group">
            <div class="row-cols-sm-10">
              <select class="form-control" formControlName="province" id="province" class="form-control">
                <option value="" disabled>Select a province</option>
                <option *ngFor="let province of provinces"
                        [value]="province"
                        style="color: blue">
                  {{province.provinceName}}
                </option>
              </select>
            </div>
            <div class="row-cols-sm-10">
              <select class="form-control" formControlName="district" id="district" class="form-control">
                <option value="" disabled>Select a District</option>
                <option *ngFor="let district of districts"
                        [value]="district"
                        style="color: blue">
                  {{district.districtName}}
                </option>
              </select>
            </div>
            <div class="row-cols-sm-10">
              <select class="form-control" formControlName="ward" id="ward" class="form-control">
                <option value="" disabled>Select Ward</option>
                <option *ngFor="let ward of wards"
                        [value]="ward"
                        style="color: blue">
                  {{ward.wardName}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div>
          <!--                <p *ngIf="formAddNewCustomer.get('ward').hasError('required') && formAddNewCustomer.get('ward').touched"-->
          <!--                   class="text-danger">Vui lòng nhập Phường</p>-->
          <!--                <p *ngIf="formAddNewCustomer.get('district').hasError('required') && formAddNewCustomer.get('district').touched"-->
          <!--                   class="text-danger">Vui lòng nhập Quận</p>-->
          <!--                <p *ngIf="formAddNewCustomer.get('province').hasError('required') && formAddNewCustomer.get('province').touched"-->
          <!--                   class="text-danger">Vui lòng nhập Thành phố / Tỉnh</p>-->
          <!--              </div>-->
        </div>

        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <img [src]="imgSrc" width="100px" height="100px" (click)="fileUploader.click()">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left" for="image">
            Ảnh Cá Nhân <span class="red_asterisk">*</span>:
          </label>
          <input class="col-6 form-control float-left" type="file" accept="image/*" #fileUploader
                 id="avatarUrl" formControlName="img" (change)="showPreview($event)">
          <input class="col-6 form-control float-left" type="file" accept="image/*" #fileUploader
                 id="image" formControlName="avatarUrl">
        </div>

        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p
            *ngIf="formAddNewCustomer.get('img').hasError('required') && formAddNewCustomer.get('img').touched"
            class="text-danger">Vui lòng chọn hình ảnh</p>
        </div>
        <div class="btn-block">
          <button type="submit" class="btn btn-warning" [disabled]="formAddNewCustomer.invalid">Lưu</button>
          <button type="button" (click)="onReset()" class="btn btn-danger ml-3">Nhập lại</button>
        </div>
      </div>
    </form>
  </div>
</div>
