<div class="content row">
  <div class="col-9 float-right mt-3">
    <form [formGroup]="formAddNewCustomer" (ngSubmit)="addNewCustomer(formAddNewCustomer.value)">
      <p class="title">Thêm Mới Khách Hàng</p>
      <hr/>
      <fieldset>
        <legend>Thêm mới tài khoản</legend>
        <!-- Ngoc - username -->
        <div class="item">
          <label class="col-2 float-left">
            Tài khoản (<span>*</span>):
          </label>
          <input id="account" class="col-6 form-control float-left" type="text" formControlName="username">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left ">
          </label>
          <p
            *ngIf="formAddNewCustomer.get('username').hasError('required') && formAddNewCustomer.get('username').touched"
            class="text-danger">Vui lòng nhập tài khoản</p>
          <p
            *ngIf="formAddNewCustomer.get('username').hasError('pattern') && formAddNewCustomer.get('username').touched"
            class="text-danger">Tài khoản tối thiểu 8 kí tự gồm cả chữ và số</p>
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left ">
          </label>
          <p class="text-danger">
            {{listError.existAccount}}
          </p>
        </div>
        <!--     end - username   -->

        <!-- Ngoc - password -->
        <div style="clear: both">
          <div class="item">
            <label class="col-2 float-left" for="password">
              Mật khẩu (<span>*</span>):
            </label>
            <input id="password" type="password" class="col-6 form-control float-left" formControlName="password">
          </div>
          <!--          Hien thi loi  password--->
          <div class="item" style="clear: both">
            <label class="col-2 float-left">
            </label>
            <p
              *ngIf="formAddNewCustomer.get('password').hasError('required') && formAddNewCustomer.get('password').touched"
              class="text-danger">Vui lòng nhập mật khẩu</p>
            <p
              *ngIf="formAddNewCustomer.get('password').hasError('pattern') && formAddNewCustomer.get('password').touched"
              class="text-danger">Mật khẩu tối thiểu 8 kí tự gồm cả chữ và số</p>
            <p *ngIf="formAddNewCustomer.get('password').hasError('maxLength') && formAddNewCustomer.get('password').touched"
            class="text-danger">Mật khẩu tối đa 50 kí tự gồm cả chữ và số
            </p>
          </div>


          <div class="item">
            <label class="col-2 float-left" for="newPassword" style="clear: both">
              Xác nhận (<span>*</span>):
            </label>
            <input class="col-6 form-control float-left" id="newPassword" type="password"
                   formControlName="confirmPassword">
          </div>
          <div class="item" style="clear: both">
            <label class="col-2 float-left ">
            </label>
            <p class="text-danger">
              {{listError.notCorrect}}
            </p>
          </div>
          <!--          Ngoc - end password -->

          <div class="item" style="clear: both">
            <label class="col-2 float-left">
            </label>
            <p class="text-danger " *ngIf="isMessage">Tài khoản đã tồn tài hoặc mật khẩu nhập sai</p>
          </div>

        </div>

      </fieldset>
      <fieldset>
        <legend>Thêm mới thông tin</legend>
        <!-- Ngoc - name -->
        <div class="item" style="clear: both">
          <label class="col-2 float-left" for="name">
            Họ Tên (<span>*</span>):
          </label>
          <input name="name" id="name" class="col-6 form-control float-left" type="text"
                 formControlName="name">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p *ngIf="formAddNewCustomer.get('name').hasError('required') && formAddNewCustomer.get('name').touched"
             class="text-danger">Vui lòng nhập tên</p>
          <p *ngIf="formAddNewCustomer.get('name').hasError('pattern') && formAddNewCustomer.get('name').touched"
             class="text-danger">Vui lòng nhập đúng tên</p>
        </div>
        <!--   ngoc - end name     -->

        <!--   ngoc - phone     -->

        <div class="item">
          <label class="col-2 float-left" for="phone" style="clear: both">
            Điện thoại (<span class="text-danger">*</span>):
          </label>
          <input id="phone" class="col-6 form-control float-left" type="text" formControlName="phone">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p *ngIf="formAddNewCustomer.get('phone').hasError('required') && formAddNewCustomer.get('phone').touched"
             class="text-danger">Vui lòng nhập số điện thoại</p>
          <p *ngIf="formAddNewCustomer.get('phone').hasError('pattern')&& formAddNewCustomer.get('phone').touched"
             class="text-danger">Số điện thoại không đúng định dạng</p>
        </div>

        <div class="item" style="clear: both">
          <label class="col-2 float-left ">
          </label>
          <p class="text-danger">
            {{listError.existPhone}}
          </p>
        </div>

        <div class="item" style="clear: both">
          <label class="col-2 float-left ">
          </label>
          <p *ngIf="isMessage3" class="text-danger">
            Điện thoại đã được đăng ký
          </p>
        </div>
        <!--   ngoc - end phone     -->

        <!--    Ngoc - email    -->

        <div class="item">
          <label class="col-2 float-left" for="email" style="clear: both">
            Email (<span class="text-danger">*</span>):
          </label>
          <input id="email" class="col-6 form-control float-left" type="text" formControlName="email">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p *ngIf="formAddNewCustomer.get('email').hasError('required') && formAddNewCustomer.get('email').touched"
             class="text-danger">Vui lòng nhập email</p>
          <p *ngIf="formAddNewCustomer.get('email').hasError('pattern')&& formAddNewCustomer.get('email').touched"
             class="text-danger">Email không đúng định dạng</p>
        </div>

        <div class="item" style="clear: both">
          <label class="col-2 float-left ">
          </label>
          <p class="text-danger">
            {{listError.existEmail}}
          </p>
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left ">
          </label>
          <p *ngIf="isMessage1" class="text-danger">
            Email đã được đăng ký
          </p>
        </div>
        <!--    Ngoc - end Email    -->

        <!--   Ngoc - province, ward, district     -->
        <div class="item">
          <label class="col-2 float-left" style="clear: both">
            Tỉnh/Thành phố (<span class="text-danger">*</span>):
          </label>
          <select [compareWith]="compareProvince" formControlName="province" class="col-6 form-control float-left selectoption"
                  (change)="onchangeProvince($event.target.value)">
            <option value="" disabled selected>Vui lòng chọn tỉnh/thành phố</option>
            <option *ngFor="let province of provinces" [ngValue]="province">{{province.provinceName}}</option>
          </select>
        </div>
        <div class="item">
          <label class="col-2 float-left" style="clear: both">
            Quận/Huyện (<span class="text-danger">*</span>):
          </label>
          <select [compareWith]="compareDistrict" formControlName="district" class="col-6 form-control float-left selectoption"
                  (change)="onchangeDistrict($event.target.value)">
            <option value="" selected disabled>Vui lòng chọn quận/huyện</option>
            <option *ngFor="let district of districts" [ngValue]="district">{{district.districtName}}</option>
          </select>
        </div>
        <div class="item">
          <label class="col-2 float-left" style="clear: both">
            Xã/Phường (<span class="text-danger">*</span>):
          </label>
          <select [compareWith]="compareWard" formControlName="ward" class="col-6 form-control float-left selectoption">
            <option value="" selected disabled>Vui lòng chọn xã/phường</option>
            <option *ngFor="let ward of wards" [ngValue]="ward">{{ward.wardName}}</option>
          </select>
        </div>
        <!--    ngoc - end province, district, ward    -->


        <!--    ngoc - image    -->
        <div class="item justify-content-center align-items-center" style="clear: both">
          <label class="col-2 float-left"></label>
          <img class="imgs" [src]="imgSrc" style="position: relative"
               width="100px" height="100px"
               (click)="fileUploader.click()">
        </div>
        <div class="item" style="clear: both">
          <label class="col-2 float-left" for="image">
            Ảnh Cá Nhân :
          </label>
          <input class="col-6 form-control float-left" type="file" accept="image/*" #fileUploader
                 id="image" formControlName="avatarUrl" (change)="showPreview($event)">
        </div>

        <div class="item" style="clear: both">
          <label class="col-2 float-left">
          </label>
          <p
            *ngIf="formAddNewCustomer.get('avatarUrl').hasError('required') && formAddNewCustomer.get('avatarUrl').touched"
            class="text-danger">Vui lòng chọn hình ảnh</p>
        </div>
        <!--   ngoc - image     -->

      </fieldset>
      <div class="btn-block">
        <button type="submit" class="btn btn-warning" [disabled]="formAddNewCustomer.invalid">Lưu</button>
        <button type="button" (click)="close()" class="btn btn-danger ml-3">Hủy</button>
      </div>
    </form>
  </div>
</div>

