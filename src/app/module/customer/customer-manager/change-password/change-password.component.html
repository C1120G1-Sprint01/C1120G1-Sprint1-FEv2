
<app-main-header></app-main-header>
<div class="row">
  <div class="col-2 float-left menu-left-admin">

  </div>
  <div class="col-9">
    <div style="margin: 26px; width: 100%">

      <div class="alert alert-success alert-dismissible fade show" role="alert" *ngIf="newPwNotify != ''">
        {{newPwNotify}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="table-header">
        <p class="title">Đổi Mật Khẩu</p>
      </div>

      <table class="table table-hover col-8" id="tableOldPw">
        <tbody>
        <tr>
          <th>Mật Khẩu Cũ</th>
          <td>
            <input type="password" class="form-control inputText" [(ngModel)]="oldPass" placeholder="Nhập mật khẩu cũ">
            <p class="errorText" *ngIf="notification != ''">{{notification}}</p>
          </td>
          <td>
            <button class="btn btn-primary" (click)="getOldPass()">Kiểm tra</button>
          </td>
        </tr>
        </tbody>
      </table>

      <form id="tableNewPw" style="display: none" [formGroup]="form" (ngSubmit)="submitNewPwForm(form)">
        <table class="table table-hover col-8" >
          <tbody>
          <tr>
            <th>Mật Khẩu Mới</th>
            <td>
              <input type="password" formControlName="newPassword"
                     class="form-control inputText" placeholder="Nhập mật khẩu mới">
              <p *ngIf="form.controls.newPassword.touched" class="errorText">
                <span *ngIf="form.controls.newPassword.errors?.required">
                  Bạn chưa nhập mật khẩu. Vui lòng nhập lại.
                </span>
                <span *ngIf="form.controls.newPassword.errors?.pattern">
                  Mật khẩu mới không được ít hơn 6 kí tự
                </span>
              </p>
            </td>
          </tr>
          <tr>
            <th>Xác Nhận Mật Khẩu</th>
            <td>
              <input type="password" formControlName="confirmNewPassword"
                     class="form-control inputText" placeholder="Nhập mật khẩu mới">
              <p *ngIf="form.controls.confirmNewPassword.touched" class="errorText">
                <span *ngIf="form.controls.confirmNewPassword.errors?.required">
                  Bạn chưa nhập mật khẩu. Vui lòng nhập lại.
                </span>
                <span *ngIf="form.controls.confirmNewPassword.errors?.comparePassword">
                  Không trùng với mật khẩu mới, xin nhập lại
                </span>
              </p>
            </td>
          </tr>
          <tr>
            <th></th>
            <td>
              <button class="btn updateBtn" type="submit" [disabled]="form.invalid">Cập Nhật</button>
              <button class="btn btn-warning" type="button" (click)="resetForm()">Nhập Lại</button>
            </td>
          </tr>
          </tbody>
        </table>
      </form>
    </div>
  </div>
</div>
<app-main-footer></app-main-footer>
